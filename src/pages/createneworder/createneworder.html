<!--
  Generated template for the CreateneworderPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Create New Order</ion-title>
    <ion-buttons right clear>
        <button (click)="saveOrder()" style="background-color:transparent">
          <ion-icon class="ion-icon" name="md-checkmark" color="light"></ion-icon>
        </button>
      </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content style="background-color:#f0f0f0" padding>

<ion-list style="margin-bottom:8px">
  <!-- <ion-item no-lines> -->
     
    <ion-row style="padding-top:7px;padding-left:8px; height:35px;background-color:#f2f2f2">
          <b>Customer Information</b>
          
    </ion-row>

    <ion-row style="margin-top:1px" (click)="onSelectCustomer()">
        <ion-col col-4>
            <ion-label class="row_item_style_left" color="dark">Customer</ion-label>
        </ion-col>
        <ion-col col-7 style="background-color:white"  *ngIf="customerNo">
            <ion-label class="row_item_style_right" color="dark">{{customerNo}}<br>{{customerName}}</ion-label>
        </ion-col>
        <ion-col col-7 style="background-color:white"  *ngIf="!customerNo">
            <ion-label class="row_item_style_right" color="dark">{{customerName}}</ion-label>
        </ion-col>
     
        
        <ion-col col-1 style="background-color:white; display:flex;justify-content:center;align-content: center!important;
        align-items: center!important;" >
            <ion-icon color="lt_gray" name="ios-arrow-forward-outline" float-right></ion-icon>
        </ion-col>
    </ion-row>

   
   <ion-row style="display:flex;justify-content:center;align-content: center!important;
   align-items: center!important;height:30px">
      <ion-col col-4>
          <ion-label class="row_item_style_left" color="primary">Customer PO</ion-label>
      </ion-col>
      <ion-col col-8 style="background-color:white">
          <ion-input  [(ngModel)]="customerPO" name="customerPO" maxlength="20" class="row_item_style_right" type="text" placeholder="Customer PO No" ></ion-input>
       </ion-col>
   </ion-row>


   <ion-row style="display:flex;justify-content:center;align-content: center!important;
   align-items: center!important;height:30px;margin-top:1px">
      <ion-col col-4>
          <ion-label class="row_item_style_left" color="primary">Reference No</ion-label>
      </ion-col>
      <ion-col col-8 style="background-color:white">
          <ion-input  [(ngModel)]="referenceNo" name="referenceNo" maxlength="20" class="row_item_style_right" type="text" placeholder="Reference No" ></ion-input>
       </ion-col>
   </ion-row>
   <ion-row style="height:8px"></ion-row>
    

   
    <ion-row *ngIf="record" style="padding-top:7px;padding-left:8px; height:35px;background-color:#f2f2f2">
        <b>Bill-to Address</b>
    
    </ion-row>
    <ion-row *ngIf="record" style="margin-top:1px">
        <ion-col col-4>
            <ion-label class="row_item_style_left" color="primary">Address</ion-label>
        </ion-col>
        <ion-col  col-8 style="background-color:white; padding:0px !important">
            <ion-row  *ngFor="let m of address" style="padding-bottom:0px !important">
                <ion-col  *ngIf="m" col-12  style="padding-left:2px">
                    <p class="row_item_style_right" >{{m}}</p>    
                </ion-col>
            </ion-row>
        </ion-col>
    </ion-row> 



    <ion-row  *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
    align-items: center!important;height:30px;margin-top:1px">
        <ion-col col-4>
            <ion-label class="row_item_style_left" color="primary">City</ion-label>
        
        </ion-col>
        <ion-col col-8  style="padding-left:4px; background-color:white">
        <p class="row_item_style_right" >{{record.address.city}}</p>    
        </ion-col>
    </ion-row> 

        <ion-row *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
        align-items: center!important;height:30px;margin-top:1px">
            <ion-col col-4>
                    <ion-label class="row_item_style_left" color="primary">Postal/Zip Code</ion-label>
                
            </ion-col>
            <ion-col col-8  style="padding-left:4px;background-color:white">
                <p class="row_item_style_right" >{{record.address.postalCode}}</p>    
            </ion-col>
        </ion-row> 

        <ion-row *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
        align-items: center!important;height:30px;margin-top:1px">
            <ion-col col-4>
                    <ion-label class="row_item_style_left" color="primary">Province/State</ion-label>
               
            </ion-col>
            <ion-col col-8  style="padding-left:4px;background-color:white">
                <p class="row_item_style_right" >{{record.address.provState }}</p>    
            </ion-col>
        </ion-row> 

        <ion-row *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
        align-items: center!important;height:30px;margin-top:1px">
            <ion-col col-4>
                    <ion-label class="row_item_style_left" color="primary">Country</ion-label>
            </ion-col>
            <ion-col col-8  style="padding-left:4px; background-color:white">
                <p class="row_item_style_right" >{{address_country}}</p>    
            </ion-col>
        </ion-row> 

        <ion-row *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
        align-items: center!important; height:30px;margin-top:1px">
            <ion-col col-4 *ngIf="record.address.phone.number">
                    <ion-label class="row_item_style_left" color="primary">Phone</ion-label>
                
            </ion-col>
            <ion-col col-8  *ngIf="record.address.phone.number" style="padding-left:4px;background-color:white">
                <p class="row_item_style_right" >{{record.address.phone.number}}</p>    
            </ion-col>
        </ion-row> 

        <!-- <ion-row  *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
        align-items: center!important;height:30px;margin-top:1px">
            <ion-col col-4 *ngIf="record.address.fax.number">
                    <ion-label class="row_item_style_left" color="primary">Fax</ion-label>
                
            </ion-col>
            <ion-col col-8  *ngIf="record.address.fax.number" style="padding-left:4px; background-color:white">
                <p class="row_item_style_right" >{{record.address.fax.number}}</p>    
            </ion-col>
        </ion-row>  -->

        <ion-row *ngIf="record" style="display:flex;justify-content:center;align-content: center!important;
        align-items: center!important;height:30px;margin-top:1px">
            <ion-col col-4 *ngIf="record.address.email">
                    <ion-label class="row_item_style_left" color="primary">Email</ion-label>
            </ion-col>
            <ion-col col-8  style="padding-left:4px; background-color:white" *ngIf="record.address.email">
                <p class="row_item_style_right" >{{record.address.email}}</p>    
            </ion-col>
        </ion-row> 

      
        <ion-row style="height:4px"></ion-row>
    
    <ion-row *ngIf="isShip" style="padding-top:7px;padding-left:8px; height:35px;background-color:#f2f2f2">
        <b>Ship-to Address</b>
    
    </ion-row>

    <ion-row *ngIf="isShip" style="display:flex;justify-content:center;align-content: center!important;
    align-items: center!important;height:30px;margin-top:1px">
            <ion-col col-4>
                    <ion-label class="row_item_style_left" color="primary">Ship Id</ion-label>
            </ion-col>
            <ion-col col-8  style="padding-left:4px; background-color:white" (click)="selectShipAddress(ship_address)">
            
               
            <ion-label class="row_item_style_right" color="dark">{{selectedShipId}}</ion-label>
            </ion-col>
    </ion-row> 
       
  

    <ion-row *ngIf="streetAddress">
  
        <ion-col col-4 >
            <p *ngIf="streetAddress" class="row_item_style_left" >Address</p>  
        </ion-col>
        <ion-col  *ngIf="streetAddress" col-8 style="background-color:white; padding:0px !important">
                <ion-row  *ngFor="let m of shipStreetAddress" style="padding-bottom:0px !important">
                        <ion-col  *ngIf="m" col-12  style="padding-left:2px">
                            <p class="row_item_style_right" >{{m}}</p>    
                        </ion-col>
                </ion-row>
        </ion-col>
    </ion-row>
    <ion-row  *ngIf="selectedShipAddress" style="display:flex;justify-content:center;align-content: center!important;
    align-items: center!important;height:30px;margin-top:1px">
        <ion-col col-4>
            <ion-label class="row_item_style_left" color="primary">City</ion-label>
        </ion-col>
        <ion-col col-8  style="padding-left:4px; background-color:white">
          <p class="row_item_style_right" >{{selectedShipAddress.city}}</p>    
        </ion-col>
    </ion-row> 
    
    <ion-row *ngIf="selectedShipAddress" style="display:flex;justify-content:center;align-content: center!important;
    align-items: center!important;height:30px;margin-top:1px">
        <ion-col col-4>
                <ion-label class="row_item_style_left" color="primary">Postal/Zip Code</ion-label>
        </ion-col>
        <ion-col col-8  style="padding-left:4px;background-color:white">
            <p class="row_item_style_right" >{{selectedShipAddress.postalCode}}</p>    
        </ion-col>
    </ion-row> 
    
            <ion-row *ngIf="selectedShipAddress" style="display:flex;justify-content:center;align-content: center!important;
            align-items: center!important;height:30px;margin-top:1px">
                <ion-col col-4>
                        <ion-label class="row_item_style_left" color="primary">Province/State</ion-label>
                </ion-col>
                <ion-col col-8  style="padding-left:4px;background-color:white">
                    <p class="row_item_style_right" >{{selectedShipAddress.provState}}</p>    
                </ion-col>
            </ion-row> 
    
            <ion-row *ngIf="ship_country" style="display:flex;justify-content:center;align-content: center!important;
            align-items: center!important;height:30px;margin-top:1px">
                <ion-col col-4>
                <ion-label class="row_item_style_left" color="primary">Country</ion-label>
                    
                </ion-col>
                <ion-col col-8  style="padding-left:4px; background-color:white">
                    <p class="row_item_style_right" >{{ship_country}}</p>    
                </ion-col>
            </ion-row> 


            <ion-row style="padding-top:7px;padding-left:8px; height:35px;background-color:#f2f2f2">
                <b>Items</b>
            </ion-row>

            <ion-row *ngFor="let item of addedInventorisList let i= index" style="padding-bottom:2px; height:60px;background-color:white;margin-top:1px">
                 <ion-col col-2 style="display:flex;justify-content:center;align-content: center!important;
                 align-items: center!important">
                 <ion-icon name="remove-circle" color="delete-color" (click)="removeItem(item)"></ion-icon></ion-col>
                            <ion-col col-5>
                                <ion-label class="row_item_style_right" color="primary">{{item.whse}}&nbsp;{{item.partNo}}</ion-label>
                                <ion-label class="row_item_style_right" color="primary">{{item.description}}</ion-label>
                            </ion-col>
                             
                            <ion-col col-5 float-right style="display :flex;justify-content:center;align-content: center!important;
                            align-items: center!important">
                            <ion-icon style="margin-right: 5px" name="remove-circle" (click)="decrement(item,i)"></ion-icon>
                            <div style="display:flex;justify-content:center;align-content: center!important;
                            align-items: center!important;border-style: solid; width:40px;height:30px; border-width: 1px;border-radius:3px;border-color: #E3e3e3;">
                            <ion-input text-right type="number" [ngModel]="item.orderQty"  (ionChange)="getQty($event,item,i)"></ion-input>
                            </div> 
                            <ion-icon style="margin-left: 5px" name="add-circle" (click)="increment(item,i)"></ion-icon>
                              
                            <img *ngIf="item.serials?.length > 0" style="margin-left:5px" src="assets/icon/barcode.svg" alt="your image" height="22" width="22" (click)="showSerails(item,i)">
                            </ion-col>
                                             
                          
                </ion-row>
                         
            <!-- </ion-item> -->
            
            <ion-item style="height:30px;margin-top:1px">
                <ion-row>
                    <ion-col col-6 (click)="addNewItem()" style="display:flex;justify-content:center; text-align:left; align-content: center!important;
                    align-items: center!important"> 
                    <ion-icon name="add-circle" color="primary"   ></ion-icon>
                   
                        &nbsp;&nbsp;Add Item</ion-col>
                    <ion-col col-6  (click)="addNewItemByCode()" style="justify-content:right;text-align:right" float-right> 
                            <img src="assets/icon/barcode.svg" alt="your image" height="26" width="26">
                        <!-- <ion-icon item-right ios="ios-barcode" md="md-barcode" ></ion-icon> -->
                </ion-col>
                </ion-row>
               

               
            </ion-item>
            

</ion-list>



</ion-content>
